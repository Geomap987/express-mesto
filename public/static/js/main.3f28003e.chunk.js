(this['webpackJsonpmesto-react'] = this['webpackJsonpmesto-react'] || []).push([[0], {
  10(e, t, n) { e.exports = n(16); },
  15(e, t, n) {},
  16(e, t, n) {
    n.r(t); const a = n(0); const o = n.n(a); const r = n(5); const i = n.n(r); const c = (n(15), n(9)); const s = n(1); const l = n(6); const u = n.n(l); const p = function () { return o.a.createElement('header', { className: 'header' }, o.a.createElement('img', { className: 'header__logo', src: u.a, alt: '\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u041c\u0435\u0441\u0442\u043e. \u0420\u043e\u0441\u0441\u0438\u044f' })); }; const m = function (e) {
      const t = e.title; const n = e.link; const a = e.likesNumber; const r = e.onCardClick; const i = e.item; const c = e.isOwn; const s = e.isLiked; const l = e.onCardLike; const u = e.onCardDelete; return o.a.createElement('article', { className: 'photo-grid__card' }, o.a.createElement('img', {
        className: 'photo-grid__photo', src: n, alt: t, onClick() { r(i); },
      }), o.a.createElement('button', { onClick() { u(i); }, className: c ? 'photo-grid__delete-icon' : 'photo-grid__delete-icon_none' }), o.a.createElement('div', { className: 'photo-grid__text' }, o.a.createElement('h3', { className: 'photo-grid__title' }, t), o.a.createElement('div', { className: 'photo-grid__like-wrapper' }, o.a.createElement('button', { onClick() { l(i); }, type: 'button', className: s ? 'photo-grid__like-icon_active' : 'photo-grid__like-icon' }), o.a.createElement('h4', { className: 'photo-grid__like-counter' }, a))));
    }; const d = o.a.createContext(); const _ = function (e) {
      const t = o.a.useContext(d); return o.a.createElement('main', { className: 'content' }, o.a.createElement('section', { className: 'profile' }, o.a.createElement('div', { className: 'profile__wrapper' }, o.a.createElement('div', { className: 'profile__photo-wrapper' }, o.a.createElement('img', { className: 'profile__photo', src: t.avatar, alt: '\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f' }), o.a.createElement('div', { onClick: e.onEditAvatar, className: 'profile__edit-pen' })), o.a.createElement('div', { className: 'profile__text-container' }, o.a.createElement('div', { className: 'profile__button-wrapper' }, o.a.createElement('h1', { className: 'profile__title' }, t.name), o.a.createElement('button', { onClick: e.onEditProfile, type: 'button', className: 'profile__edit-button' })), o.a.createElement('p', { className: 'profile__subtitle' }, t.about))), o.a.createElement('button', { onClick: e.openAddPlace, type: 'button', className: 'profile__add-button' })), o.a.createElement('section', { className: 'photo-grid' }, o.a.createElement('div', { className: 'photo-grid__container' }, e.cards.map(((n) => o.a.createElement(m, {
        onCardDelete: e.onCardDelete, onCardLike: e.onCardLike, isLiked: n.likes.some(((e) => e._id === t._id)), isOwn: n.owner._id === t._id, key: n._id, title: n.name, link: n.link, likesNumber: n.likes.length, onCardClick: e.mainCardClick, item: n,
      }))))));
    }; const h = function () { return o.a.createElement('footer', { className: 'footer' }, o.a.createElement('p', { className: 'footer__copyright' }, '\xa9 2020. \u041c\u0430\u0440\u0438\u044f \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0430')); }; const f = function (e) {
      const t = e.title; const n = e.name; const a = e.isOpen; const r = e.onClose; const i = e.children; const c = e.onSubmit; const s = e.buttonText; return o.a.createElement('section', { className: a ? 'popup popup-'.concat(n, ' popup_opened') : 'popup popup-'.concat(n) }, o.a.createElement('form', {
        id: ''.concat(n, 'form'), name: ''.concat(n, 'form'), className: 'popup__container popup__container_'.concat(n), onSubmit: c, noValidate: !0,
      }, o.a.createElement('button', {
        type: 'button', onClick: r, id: ''.concat(n, 'button'), className: 'popup__close-button',
      }), o.a.createElement('h3', { className: 'popup__title' }, t), i, o.a.createElement('button', { type: 'submit', id: 'submit-button', className: 'popup__submit-button popup-'.concat(n, '__submit-button') }, s)));
    }; const v = function (e) {
      const t = e.onClose; const n = e.isOpen; const a = e.image; const r = e.title; return o.a.createElement('section', { id: 'bigphotopopup', className: n ? 'popup popup-bigphotopopup popup_opened' : 'popup popup-bigphotopopup' }, o.a.createElement('div', { className: 'popup__bigphoto-container ' }, o.a.createElement('button', {
        onClick: t, type: 'button', id: 'bigphotobutton', className: 'popup__close-button',
      }), o.a.createElement('img', { src: a, className: 'popup__bigphoto-image', alt: r }), o.a.createElement('p', { className: 'popup__bigphoto-subtitle' }, r)));
    }; const b = function (e) {
      const t = e.isOpen; const n = e.onClose; const a = e.onUpdateUser; const r = o.a.useState(''); const i = Object(s.a)(r, 2); const c = i[0]; const l = i[1]; const u = o.a.useState(''); const p = Object(s.a)(u, 2); const m = p[0]; const _ = p[1]; const h = o.a.useContext(d); return o.a.useEffect((() => { l(h.name), _(h.about); }), [h]), o.a.createElement(f, {
        onSubmit(e) { e.preventDefault(), a({ name: c, about: m }); }, onClose: n, isOpen: t, name: 'profile', title: '\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c', buttonText: '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c',
      }, o.a.createElement('input', {
        onChange(e) { l(e.target.value); }, type: 'text', id: 'profilename', name: 'name', placeholder: '\u0418\u043c\u044f', value: c, className: 'popup__input popup__input_title', pattern: '[a-zA-Z\u0410-\u042f\u0401\u0430-\u044f\u0451\\s\\-]+', minLength: '2', maxLength: '40', required: !0,
      }), o.a.createElement('span', { className: 'popup__input-error', id: 'profilename-error' }), o.a.createElement('input', {
        onChange(e) { _(e.target.value); }, type: 'text', id: 'profilejob', name: 'about', placeholder: '\u0417\u0430\u043d\u044f\u0442\u0438\u0435', value: m, className: 'popup__input popup__input_subtitle', minLength: '2', maxLength: '200', required: !0,
      }), o.a.createElement('span', { className: 'popup__input-error', id: 'profilejob-error' }));
    }; const E = function (e) {
      const t = e.isOpen; const n = e.onClose; const a = e.onUpdateAvatar; const r = o.a.useRef(); return o.a.createElement(f, {
        onSubmit(e) { e.preventDefault(), a({ avatar: r.current.value }); }, onClose: n, isOpen: t, name: 'avatar', title: '\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440', buttonText: '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c',
      }, o.a.createElement('input', {
        ref: r, type: 'url', id: 'avatarlink', name: 'avatar', placeholder: '\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440', className: 'popup__input popup__input_avatar', required: !0,
      }), o.a.createElement('span', { className: 'popup__input-error', id: 'avatarlink-error' }));
    }; const k = function (e) {
      const t = e.isOpen; const n = e.onClose; const a = e.onAddPlace; const r = (e.titleR, o.a.useRef()); const i = o.a.useRef(); return o.a.createElement(f, {
        onSubmit(e) { e.preventDefault(), a({ name: i.current.value, link: r.current.value }); }, onClose: n, isOpen: t, name: 'addphoto', title: '\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e', buttonText: '\u0421\u043e\u0437\u0434\u0430\u0442\u044c',
      }, o.a.createElement('input', {
        ref: i, type: 'text', id: 'photoplace', name: 'name', placeholder: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435', className: 'popup__input popup__input_title', pattern: '[a-zA-Z\u0410-\u042f\u0401\u0430-\u044f\u0451\\s\\d\\-]+', minLength: '2', maxLength: '40', required: !0,
      }), o.a.createElement('span', { className: 'popup__input-error', id: 'photoplace-error' }), o.a.createElement('input', {
        ref: r, type: 'url', id: 'photolink', name: 'link', placeholder: '\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443', className: 'popup__input popup__input_subtitle', required: !0,
      }), o.a.createElement('span', { className: 'popup__input-error', id: 'photolink-error' }));
    }; const g = n(7); const C = n(8); const N = new (function () { function e(t) { const n = t.address; const a = t.token; const o = t.groupId; Object(g.a)(this, e), this._address = n, this._token = a, this._groupId = o; } return Object(C.a)(e, [{ key: 'getInitialInfo', value() { return Promise.all([this.getUserInfo(), this.getCardList()]); } }, { key: 'getUserInfo', value() { return fetch(''.concat(this._address, '/').concat(this._groupId, '/users/me'), { headers: { authorization: this._token, 'Content-Type': 'application/json' } }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }, { key: 'editUserInfo', value(e) { const t = e.name; const n = e.about; return fetch(''.concat(this._address, '/').concat(this._groupId, '/users/me'), { method: 'PATCH', headers: { authorization: this._token, 'Content-Type': 'application/json' }, body: JSON.stringify({ name: t, about: n }) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }, { key: 'editUserAvatar', value(e) { const t = e.avatar; return fetch(''.concat(this._address, '/').concat(this._groupId, '/users/me/avatar'), { method: 'PATCH', headers: { authorization: this._token, 'Content-Type': 'application/json' }, body: JSON.stringify({ avatar: t }) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }, { key: 'getCardList', value() { return fetch(''.concat(this._address, '/').concat(this._groupId, '/cards'), { headers: { authorization: this._token, 'Content-Type': 'application/json' } }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }, { key: 'createCard', value(e) { const t = e.name; const n = e.link; return fetch(''.concat(this._address, '/').concat(this._groupId, '/cards'), { method: 'POST', headers: { authorization: this._token, 'Content-Type': 'application/json' }, body: JSON.stringify({ name: t, link: n }) }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }, { key: 'deleteCard', value(e) { return fetch(''.concat(this._address, '/').concat(this._groupId, '/cards/').concat(e), { method: 'DELETE', headers: { authorization: this._token, 'Content-Type': 'application/json' } }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }, { key: 'likeCard', value(e, t) { let n; return n = t ? 'DELETE' : 'PUT', fetch(''.concat(this._address, '/').concat(this._groupId, '/cards/likes/').concat(e), { method: n, headers: { authorization: this._token, 'Content-Type': 'application/json' } }).then(((e) => (e.ok ? e.json() : Promise.reject('\u041e\u0448\u0438\u0431\u043a\u0430: '.concat(e.status))))); } }]), e; }())({ address: 'https://mesto.nomoreparties.co/v1', token: '3a4b08db-7c45-4ccb-8ab5-c20c75737af9', groupId: 'cohort-14' }); const j = o.a.createContext(); const y = function () {
      const e = o.a.useState(!1); const t = Object(s.a)(e, 2); const n = t[0]; const r = t[1]; const i = o.a.useState(!1); const l = Object(s.a)(i, 2); const u = l[0]; const m = l[1]; const g = o.a.useState(!1); const C = Object(s.a)(g, 2); const y = C[0]; const O = C[1]; const P = o.a.useState({ title: '', link: '' }); const x = Object(s.a)(P, 2); const I = x[0]; const S = x[1]; const T = o.a.useState({}); const L = Object(s.a)(T, 2); const w = L[0]; const A = L[1]; const U = o.a.useState([]); const z = Object(s.a)(U, 2); const D = z[0]; const q = z[1]; function J() { r(!1), m(!1), O(!1), S({ title: '', link: '' }); } return Object(a.useEffect)((() => { N.getUserInfo().then(((e) => { A(e); })).catch(((e) => console.log(e))); }), []), Object(a.useEffect)((() => { N.getCardList().then(((e) => { q(e); })).catch(((e) => console.log(e))); }), []), o.a.createElement(d.Provider, { value: w }, o.a.createElement(j.Provider, { value: D }, o.a.createElement('div', { className: 'page' }, o.a.createElement(p, null), o.a.createElement(_, {
        onEditAvatar() { r(!n); }, onEditProfile() { m(!u); }, openAddPlace() { O(!y); }, mainCardClick(e) { S(e); }, onCardDelete(e) { N.deleteCard(e._id).then(((t) => { const n = D.filter(((t) => t._id !== e._id)).catch(((e) => console.log(e))); q(n); })); }, onCardLike(e) { const t = e.likes.some(((e) => e._id === w._id)); N.likeCard(e._id, t).then(((t) => { const n = D.map(((n) => (n._id === e._id ? t : n))).catch(((e) => console.log(e))); q(n); })); }, cards: D,
      }), o.a.createElement(h, null), o.a.createElement(b, { isOpen: u, onClose: J, onUpdateUser(e) { N.editUserInfo(e).then(((e) => { A(e), J(); })).catch(((e) => console.log(e))); } }), o.a.createElement(E, { isOpen: n, onClose: J, onUpdateAvatar(e) { N.editUserAvatar(e).then(((e) => { A(e), J(); })).catch(((e) => console.log(e))); } }), o.a.createElement(k, {
        titleR: '', onClose: J, isOpen: y, onAddPlace(e) { N.createCard(e).then(((e) => { q([].concat(Object(c.a)(D), [e])), J(); })).catch(((e) => console.log(e))); },
      }), o.a.createElement(f, { name: 'confirm', title: '\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?', buttonText: '\u0414\u0430' }), o.a.createElement(v, {
        onClose: J, isOpen: I.link, image: I.link, title: I.name,
      }))));
    }; Boolean(window.location.hostname === 'localhost' || window.location.hostname === '[::1]' || window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)); i.a.render(o.a.createElement(o.a.StrictMode, null, o.a.createElement(y, null)), document.getElementById('root')), 'serviceWorker' in navigator && navigator.serviceWorker.ready.then(((e) => { e.unregister(); })).catch(((e) => { console.error(e.message); }));
  },
  6(e, t, n) { e.exports = `${n.p}static/media/logo.855a8c98.svg`; },
}, [[10, 1, 2]]]);
// # sourceMappingURL=main.3f28003e.chunk.js.map
